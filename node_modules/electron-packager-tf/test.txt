
> electron-packager-tf@7.1.0 pretest /Users/develar/Documents/electron-packager
> rimraf test/work


> electron-packager-tf@7.1.0 test /Users/develar/Documents/electron-packager
> eslint . && nyc --cache tape test

Calling electron-download before running tests...
Calling electron-download 0.37.4 before running tests...
Running npm install in fixtures/basic...
Running npm install in fixtures/el-0374...
Running tests...
TAP version 13
# setup
# all test
not ok 1 packager call should resolve with expected number of paths
  ---
    operator: equal
    expected: 6
    actual:   1
    at: each (/Users/develar/Documents/electron-packager/node_modules/run-waterfall/index.js:19:22)
  ...
ok 2 Packages should be generated for all possible platforms
# teardown
# setup
# platform=all test (one arch)
not ok 3 packager call should resolve with expected number of paths
  ---
    operator: equal
    expected: 2
    actual:   1
    at: each (/Users/develar/Documents/electron-packager/node_modules/run-waterfall/index.js:19:22)
  ...
ok 4 Packages should be generated for both 32-bit platforms
# teardown
# setup
# arch=all test (one platform)
not ok 5 packager call should resolve with expected number of paths
  ---
    operator: equal
    expected: 2
    actual:   1
    at: each (/Users/develar/Documents/electron-packager/node_modules/run-waterfall/index.js:19:22)
  ...
ok 6 Packages should be generated for both architectures
# teardown
# setup
# multi-platform / multi-arch test, from arrays
not ok 7 packager call should resolve with expected number of paths
  ---
    operator: equal
    expected: 4
    actual:   1
    at: each (/Users/develar/Documents/electron-packager/node_modules/run-waterfall/index.js:19:22)
  ...
ok 8 Packages should be generated for all combinations of specified archs and platforms
# teardown
# setup
# multi-platform / multi-arch test, from strings
not ok 9 packager call should resolve with expected number of paths
  ---
    operator: equal
    expected: 4
    actual:   1
    at: each (/Users/develar/Documents/electron-packager/node_modules/run-waterfall/index.js:19:22)
  ...
ok 10 Packages should be generated for all combinations of specified archs and platforms
# teardown
# setup
# helper app paths test
ok 11 The Helper.app executable should reflect opts.name
ok 12 The Helper EH.app should reflect opts.name
ok 13 The Helper EH.app executable should reflect opts.name
ok 14 The Helper NP.app should reflect opts.name
ok 15 The Helper NP.app executable should reflect opts.name
# teardown
# setup
# icon test: .icns specified
ok 16 The output directory should contain the expected resources subdirectory
ok 17 The expected Info.plist file should exist
ok 18 installed icon file should be identical to the specified icon file
# teardown
# setup
# icon test: el-0.37.4, .icns specified
ok 19 The output directory should contain the expected resources subdirectory
ok 20 The expected Info.plist file should exist
ok 21 installed icon file should be identical to the specified icon file
# teardown
# setup
# icon test: .ico specified (should replace with .icns)
ok 22 The output directory should contain the expected resources subdirectory
ok 23 The expected Info.plist file should exist
ok 24 installed icon file should be identical to the specified icon file
# teardown
# setup
# icon test: basename only (should add .icns)
ok 25 The output directory should contain the expected resources subdirectory
ok 26 The expected Info.plist file should exist
ok 27 installed icon file should be identical to the specified icon file
# teardown
# setup
# extend-info test
ok 28 The expected Info.plist file should exist
ok 29 TestKeyString should come from extend-info
ok 30 TestKeyInt should come from extend-info
ok 31 TestKeyBool should come from extend-info
ok 32 TestKeyArray should come from extend-info
ok 33 TestKeyDict should come from extend-info
ok 34 CFBundleVersion should reflect build-version argument
ok 35 CFBundleIdentifier should reflect app-bundle-id argument
ok 36 LSApplicationCategoryType should reflect app-category-type argument
ok 37 CFBundlePackageType should be Electron default
# teardown
# setup
# extra-resource test: one arg
ok 38 The output directory should contain the expected resources subdirectory
ok 39 resource file data1.txt should match
# teardown
# setup
# extra-resource test: two arg
ok 40 The output directory should contain the expected resources subdirectory
ok 41 resource file data1.txt should match
ok 42 resource file extrainfo.plist should match
# teardown
# osx-sign argument test: default args
ok 43 should be equivalent
# osx-sign argument test: identity=true sets autodiscovery mode
ok 44 should be equivalent
# osx-sign argument test: entitlements passed to electron-osx-sign
ok 45 should be equivalent
# osx-sign argument test: app not overwritten
ok 46 should be equivalent
# osx-sign argument test: platform not overwritten
ok 47 should be equivalent
# setup
# codesign test
ok 48 The expected .app directory should exist
not ok 49 Error: Command failed: codesign -v /Users/develar/Documents/electron-packager/test/work/basicTest-darwin-x64/basicTest.app /Users/develar/Documents/electron-packager/test/work/basicTest-darwin-x64/basicTest.app: code object is not signed at all In architecture: x86_64 
  ---
    operator: error
    expected: |-
      undefined
    actual: |-
      { [Error: Command failed: codesign -v /Users/develar/Documents/electron-packager/test/work/basicTest-darwin-x64/basicTest.app
/Users/develar/Documents/electron-packager/test/work/basicTest-darwin-x64/basicTest.app: code object is not signed at all
In architecture: x86_64
] killed: false, code: 1, signal: null, cmd: 'codesign -v /Users/develar/Documents/electron-packager/test/work/basicTest-darwin-x64/basicTest.app' }
    at: end (/Users/develar/Documents/electron-packager/node_modules/run-waterfall/index.js:8:18)
    stack: |-
      Error: Command failed: codesign -v /Users/develar/Documents/electron-packager/test/work/basicTest-darwin-x64/basicTest.app
      /Users/develar/Documents/electron-packager/test/work/basicTest-darwin-x64/basicTest.app: code object is not signed at all
      In architecture: x86_64
      
          at ChildProcess.exithandler (child_process.js:202:12)
          at emitTwo (events.js:106:13)
          at ChildProcess.emit (events.js:191:7)
          at maybeClose (internal/child_process.js:850:16)
          at Process.ChildProcess._handle.onexit (internal/child_process.js:215:5)
  ...
# teardown
# setup
# binary naming test
ok 50 The binary should reflect opts.name
# teardown
# setup
# app and build version test
ok 51 The expected Info.plist file should exist
ok 52 CFBundleVersion should reflect build-version
ok 53 CFBundleShortVersionString should reflect app-version
ok 54 CFBundleVersion should be a string
ok 55 CFBundleShortVersionString should be a string
# teardown
# setup
# app version test
ok 56 The expected Info.plist file should exist
ok 57 CFBundleVersion should reflect build-version
ok 58 CFBundleShortVersionString should reflect app-version
ok 59 CFBundleVersion should be a string
ok 60 CFBundleShortVersionString should be a string
# teardown
# setup
# app and build version integer test
ok 61 The expected Info.plist file should exist
ok 62 CFBundleVersion should reflect build-version
ok 63 CFBundleShortVersionString should reflect app-version
ok 64 CFBundleVersion should be a string
ok 65 CFBundleShortVersionString should be a string
# teardown
# setup
# app categoryType test
ok 66 The expected Info.plist file should exist
ok 67 LSApplicationCategoryType should reflect opts["app-category-type"]
# teardown
# setup
# app bundle test
ok 68 The expected Info.plist file should exist
ok 69 CFBundleDisplayName should reflect opts.name
ok 70 CFBundleName should reflect opts.name
ok 71 CFBundleName should reflect opts["app-bundle-id"] or fallback to default
ok 72 CFBundleDisplayName should be a string
ok 73 CFBundleName should be a string
ok 74 CFBundleIdentifier should be a string
ok 75 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app bundle (w/ special characters) test
ok 76 The expected Info.plist file should exist
ok 77 CFBundleDisplayName should reflect opts.name
ok 78 CFBundleName should reflect opts.name
ok 79 CFBundleName should reflect opts["app-bundle-id"] or fallback to default
ok 80 CFBundleDisplayName should be a string
ok 81 CFBundleName should be a string
ok 82 CFBundleIdentifier should be a string
ok 83 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app bundle app-bundle-id fallback test
ok 84 The expected Info.plist file should exist
ok 85 CFBundleDisplayName should reflect opts.name
ok 86 CFBundleName should reflect opts.name
ok 87 CFBundleName should reflect opts["app-bundle-id"] or fallback to default
ok 88 CFBundleDisplayName should be a string
ok 89 CFBundleName should be a string
ok 90 CFBundleIdentifier should be a string
ok 91 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app bundle framework symlink test
ok 92 Expected Electron Framework.framework to be a directory
ok 93 Expected Electron Framework.framework/Electron Framework to be a symlink
ok 94 Expected Electron Framework.framework/Versions/Current to be a symlink
# teardown
# setup
# app helpers bundle test
ok 95 The expected Info.plist file should exist in helper app
ok 96 CFBundleName should reflect opts.name in helper app
ok 97 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 98 CFBundleName should be a string in helper app
ok 99 CFBundleIdentifier should be a string in helper app
ok 100 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 101 The expected Info.plist file should exist in helper EH app
ok 102 CFBundleName should reflect opts.name in helper EH app
ok 103 CFBundleDisplayName should reflect opts.name in helper EH app
ok 104 CFBundleExecutable should reflect opts.name in helper EH app
ok 105 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 106 CFBundleName should be a string in helper EH app
ok 107 CFBundleDisplayName should be a string in helper EH app
ok 108 CFBundleExecutable should be a string in helper EH app
ok 109 CFBundleIdentifier should be a string in helper EH app
ok 110 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 111 The expected Info.plist file should exist in helper NP app
ok 112 CFBundleName should reflect opts.name in helper NP app
ok 113 CFBundleDisplayName should reflect opts.name in helper NP app
ok 114 CFBundleExecutable should reflect opts.name in helper NP app
ok 115 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 116 CFBundleName should be a string in helper NP app
ok 117 CFBundleDisplayName should be a string in helper NP app
ok 118 CFBundleExecutable should be a string in helper NP app
ok 119 CFBundleIdentifier should be a string in helper NP app
ok 120 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app helpers bundle (w/ special characters) test
ok 121 The expected Info.plist file should exist in helper app
ok 122 CFBundleName should reflect opts.name in helper app
ok 123 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 124 CFBundleName should be a string in helper app
ok 125 CFBundleIdentifier should be a string in helper app
ok 126 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 127 The expected Info.plist file should exist in helper EH app
ok 128 CFBundleName should reflect opts.name in helper EH app
ok 129 CFBundleDisplayName should reflect opts.name in helper EH app
ok 130 CFBundleExecutable should reflect opts.name in helper EH app
ok 131 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 132 CFBundleName should be a string in helper EH app
ok 133 CFBundleDisplayName should be a string in helper EH app
ok 134 CFBundleExecutable should be a string in helper EH app
ok 135 CFBundleIdentifier should be a string in helper EH app
ok 136 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 137 The expected Info.plist file should exist in helper NP app
ok 138 CFBundleName should reflect opts.name in helper NP app
ok 139 CFBundleDisplayName should reflect opts.name in helper NP app
ok 140 CFBundleExecutable should reflect opts.name in helper NP app
ok 141 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 142 CFBundleName should be a string in helper NP app
ok 143 CFBundleDisplayName should be a string in helper NP app
ok 144 CFBundleExecutable should be a string in helper NP app
ok 145 CFBundleIdentifier should be a string in helper NP app
ok 146 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app helpers bundle helper-bundle-id fallback to app-bundle-id test
ok 147 The expected Info.plist file should exist in helper app
ok 148 CFBundleName should reflect opts.name in helper app
ok 149 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 150 CFBundleName should be a string in helper app
ok 151 CFBundleIdentifier should be a string in helper app
ok 152 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 153 The expected Info.plist file should exist in helper EH app
ok 154 CFBundleName should reflect opts.name in helper EH app
ok 155 CFBundleDisplayName should reflect opts.name in helper EH app
ok 156 CFBundleExecutable should reflect opts.name in helper EH app
ok 157 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 158 CFBundleName should be a string in helper EH app
ok 159 CFBundleDisplayName should be a string in helper EH app
ok 160 CFBundleExecutable should be a string in helper EH app
ok 161 CFBundleIdentifier should be a string in helper EH app
ok 162 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 163 The expected Info.plist file should exist in helper NP app
ok 164 CFBundleName should reflect opts.name in helper NP app
ok 165 CFBundleDisplayName should reflect opts.name in helper NP app
ok 166 CFBundleExecutable should reflect opts.name in helper NP app
ok 167 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 168 CFBundleName should be a string in helper NP app
ok 169 CFBundleDisplayName should be a string in helper NP app
ok 170 CFBundleExecutable should be a string in helper NP app
ok 171 CFBundleIdentifier should be a string in helper NP app
ok 172 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app helpers bundle helper-bundle-id fallback to app-bundle-id (w/ special characters) test
ok 173 The expected Info.plist file should exist in helper app
ok 174 CFBundleName should reflect opts.name in helper app
ok 175 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 176 CFBundleName should be a string in helper app
ok 177 CFBundleIdentifier should be a string in helper app
ok 178 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 179 The expected Info.plist file should exist in helper EH app
ok 180 CFBundleName should reflect opts.name in helper EH app
ok 181 CFBundleDisplayName should reflect opts.name in helper EH app
ok 182 CFBundleExecutable should reflect opts.name in helper EH app
ok 183 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 184 CFBundleName should be a string in helper EH app
ok 185 CFBundleDisplayName should be a string in helper EH app
ok 186 CFBundleExecutable should be a string in helper EH app
ok 187 CFBundleIdentifier should be a string in helper EH app
ok 188 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 189 The expected Info.plist file should exist in helper NP app
ok 190 CFBundleName should reflect opts.name in helper NP app
ok 191 CFBundleDisplayName should reflect opts.name in helper NP app
ok 192 CFBundleExecutable should reflect opts.name in helper NP app
ok 193 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 194 CFBundleName should be a string in helper NP app
ok 195 CFBundleDisplayName should be a string in helper NP app
ok 196 CFBundleExecutable should be a string in helper NP app
ok 197 CFBundleIdentifier should be a string in helper NP app
ok 198 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app helpers bundle helper-bundle-id & app-bundle-id fallback test
ok 199 The expected Info.plist file should exist in helper app
ok 200 CFBundleName should reflect opts.name in helper app
ok 201 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 202 CFBundleName should be a string in helper app
ok 203 CFBundleIdentifier should be a string in helper app
ok 204 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 205 The expected Info.plist file should exist in helper EH app
ok 206 CFBundleName should reflect opts.name in helper EH app
ok 207 CFBundleDisplayName should reflect opts.name in helper EH app
ok 208 CFBundleExecutable should reflect opts.name in helper EH app
ok 209 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 210 CFBundleName should be a string in helper EH app
ok 211 CFBundleDisplayName should be a string in helper EH app
ok 212 CFBundleExecutable should be a string in helper EH app
ok 213 CFBundleIdentifier should be a string in helper EH app
ok 214 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 215 The expected Info.plist file should exist in helper NP app
ok 216 CFBundleName should reflect opts.name in helper NP app
ok 217 CFBundleDisplayName should reflect opts.name in helper NP app
ok 218 CFBundleExecutable should reflect opts.name in helper NP app
ok 219 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 220 CFBundleName should be a string in helper NP app
ok 221 CFBundleDisplayName should be a string in helper NP app
ok 222 CFBundleExecutable should be a string in helper NP app
ok 223 CFBundleIdentifier should be a string in helper NP app
ok 224 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app humanReadableCopyright test
ok 225 The expected Info.plist file should exist
ok 226 NSHumanReadableCopyright should reflect opts["app-copyright"]
# teardown
# setup
# helper app paths test
ok 227 The Helper.app executable should reflect opts.name
ok 228 The Helper EH.app should reflect opts.name
ok 229 The Helper EH.app executable should reflect opts.name
ok 230 The Helper NP.app should reflect opts.name
ok 231 The Helper NP.app executable should reflect opts.name
# teardown
# setup
# icon test: .icns specified
ok 232 The output directory should contain the expected resources subdirectory
ok 233 The expected Info.plist file should exist
ok 234 installed icon file should be identical to the specified icon file
# teardown
# setup
# icon test: el-0.37.4, .icns specified
ok 235 The output directory should contain the expected resources subdirectory
ok 236 The expected Info.plist file should exist
ok 237 installed icon file should be identical to the specified icon file
# teardown
# setup
# icon test: .ico specified (should replace with .icns)
ok 238 The output directory should contain the expected resources subdirectory
ok 239 The expected Info.plist file should exist
ok 240 installed icon file should be identical to the specified icon file
# teardown
# setup
# icon test: basename only (should add .icns)
ok 241 The output directory should contain the expected resources subdirectory
ok 242 The expected Info.plist file should exist
ok 243 installed icon file should be identical to the specified icon file
# teardown
# setup
# extend-info test
ok 244 The expected Info.plist file should exist
ok 245 TestKeyString should come from extend-info
ok 246 TestKeyInt should come from extend-info
ok 247 TestKeyBool should come from extend-info
ok 248 TestKeyArray should come from extend-info
ok 249 TestKeyDict should come from extend-info
ok 250 CFBundleVersion should reflect build-version argument
ok 251 CFBundleIdentifier should reflect app-bundle-id argument
ok 252 LSApplicationCategoryType should reflect app-category-type argument
ok 253 CFBundlePackageType should be Electron default
# teardown
# setup
# extra-resource test: one arg
ok 254 The output directory should contain the expected resources subdirectory
ok 255 resource file data1.txt should match
# teardown
# setup
# extra-resource test: two arg
ok 256 The output directory should contain the expected resources subdirectory
ok 257 resource file data1.txt should match
ok 258 resource file extrainfo.plist should match
# teardown
# osx-sign argument test: default args
ok 259 should be equivalent
# osx-sign argument test: identity=true sets autodiscovery mode
ok 260 should be equivalent
# osx-sign argument test: entitlements passed to electron-osx-sign
ok 261 should be equivalent
# osx-sign argument test: app not overwritten
ok 262 should be equivalent
# osx-sign argument test: platform not overwritten
ok 263 should be equivalent
# setup
# codesign test
ok 264 The expected .app directory should exist
not ok 265 Error: Command failed: codesign -v /Users/develar/Documents/electron-packager/test/work/basicTest-mas-x64/basicTest.app /Users/develar/Documents/electron-packager/test/work/basicTest-mas-x64/basicTest.app: code object is not signed at all In architecture: x86_64 
  ---
    operator: error
    expected: |-
      undefined
    actual: |-
      { [Error: Command failed: codesign -v /Users/develar/Documents/electron-packager/test/work/basicTest-mas-x64/basicTest.app
/Users/develar/Documents/electron-packager/test/work/basicTest-mas-x64/basicTest.app: code object is not signed at all
In architecture: x86_64
] killed: false, code: 1, signal: null, cmd: 'codesign -v /Users/develar/Documents/electron-packager/test/work/basicTest-mas-x64/basicTest.app' }
    at: end (/Users/develar/Documents/electron-packager/node_modules/run-waterfall/index.js:8:18)
    stack: |-
      Error: Command failed: codesign -v /Users/develar/Documents/electron-packager/test/work/basicTest-mas-x64/basicTest.app
      /Users/develar/Documents/electron-packager/test/work/basicTest-mas-x64/basicTest.app: code object is not signed at all
      In architecture: x86_64
      
          at ChildProcess.exithandler (child_process.js:202:12)
          at emitTwo (events.js:106:13)
          at ChildProcess.emit (events.js:191:7)
          at maybeClose (internal/child_process.js:850:16)
          at Process.ChildProcess._handle.onexit (internal/child_process.js:215:5)
  ...
# teardown
# setup
# binary naming test
ok 266 The binary should reflect opts.name
# teardown
# setup
# app and build version test
ok 267 The expected Info.plist file should exist
ok 268 CFBundleVersion should reflect build-version
ok 269 CFBundleShortVersionString should reflect app-version
ok 270 CFBundleVersion should be a string
ok 271 CFBundleShortVersionString should be a string
# teardown
# setup
# app version test
ok 272 The expected Info.plist file should exist
ok 273 CFBundleVersion should reflect build-version
ok 274 CFBundleShortVersionString should reflect app-version
ok 275 CFBundleVersion should be a string
ok 276 CFBundleShortVersionString should be a string
# teardown
# setup
# app and build version integer test
ok 277 The expected Info.plist file should exist
ok 278 CFBundleVersion should reflect build-version
ok 279 CFBundleShortVersionString should reflect app-version
ok 280 CFBundleVersion should be a string
ok 281 CFBundleShortVersionString should be a string
# teardown
# setup
# app categoryType test
ok 282 The expected Info.plist file should exist
ok 283 LSApplicationCategoryType should reflect opts["app-category-type"]
# teardown
# setup
# app bundle test
ok 284 The expected Info.plist file should exist
ok 285 CFBundleDisplayName should reflect opts.name
ok 286 CFBundleName should reflect opts.name
ok 287 CFBundleName should reflect opts["app-bundle-id"] or fallback to default
ok 288 CFBundleDisplayName should be a string
ok 289 CFBundleName should be a string
ok 290 CFBundleIdentifier should be a string
ok 291 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app bundle (w/ special characters) test
ok 292 The expected Info.plist file should exist
ok 293 CFBundleDisplayName should reflect opts.name
ok 294 CFBundleName should reflect opts.name
ok 295 CFBundleName should reflect opts["app-bundle-id"] or fallback to default
ok 296 CFBundleDisplayName should be a string
ok 297 CFBundleName should be a string
ok 298 CFBundleIdentifier should be a string
ok 299 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app bundle app-bundle-id fallback test
ok 300 The expected Info.plist file should exist
ok 301 CFBundleDisplayName should reflect opts.name
ok 302 CFBundleName should reflect opts.name
ok 303 CFBundleName should reflect opts["app-bundle-id"] or fallback to default
ok 304 CFBundleDisplayName should be a string
ok 305 CFBundleName should be a string
ok 306 CFBundleIdentifier should be a string
ok 307 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app bundle framework symlink test
ok 308 Expected Electron Framework.framework to be a directory
ok 309 Expected Electron Framework.framework/Electron Framework to be a symlink
ok 310 Expected Electron Framework.framework/Versions/Current to be a symlink
# teardown
# setup
# app helpers bundle test
ok 311 The expected Info.plist file should exist in helper app
ok 312 CFBundleName should reflect opts.name in helper app
ok 313 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 314 CFBundleName should be a string in helper app
ok 315 CFBundleIdentifier should be a string in helper app
ok 316 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 317 The expected Info.plist file should exist in helper EH app
ok 318 CFBundleName should reflect opts.name in helper EH app
ok 319 CFBundleDisplayName should reflect opts.name in helper EH app
ok 320 CFBundleExecutable should reflect opts.name in helper EH app
ok 321 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 322 CFBundleName should be a string in helper EH app
ok 323 CFBundleDisplayName should be a string in helper EH app
ok 324 CFBundleExecutable should be a string in helper EH app
ok 325 CFBundleIdentifier should be a string in helper EH app
ok 326 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 327 The expected Info.plist file should exist in helper NP app
ok 328 CFBundleName should reflect opts.name in helper NP app
ok 329 CFBundleDisplayName should reflect opts.name in helper NP app
ok 330 CFBundleExecutable should reflect opts.name in helper NP app
ok 331 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 332 CFBundleName should be a string in helper NP app
ok 333 CFBundleDisplayName should be a string in helper NP app
ok 334 CFBundleExecutable should be a string in helper NP app
ok 335 CFBundleIdentifier should be a string in helper NP app
ok 336 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app helpers bundle (w/ special characters) test
ok 337 The expected Info.plist file should exist in helper app
ok 338 CFBundleName should reflect opts.name in helper app
ok 339 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 340 CFBundleName should be a string in helper app
ok 341 CFBundleIdentifier should be a string in helper app
ok 342 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 343 The expected Info.plist file should exist in helper EH app
ok 344 CFBundleName should reflect opts.name in helper EH app
ok 345 CFBundleDisplayName should reflect opts.name in helper EH app
ok 346 CFBundleExecutable should reflect opts.name in helper EH app
ok 347 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 348 CFBundleName should be a string in helper EH app
ok 349 CFBundleDisplayName should be a string in helper EH app
ok 350 CFBundleExecutable should be a string in helper EH app
ok 351 CFBundleIdentifier should be a string in helper EH app
ok 352 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 353 The expected Info.plist file should exist in helper NP app
ok 354 CFBundleName should reflect opts.name in helper NP app
ok 355 CFBundleDisplayName should reflect opts.name in helper NP app
ok 356 CFBundleExecutable should reflect opts.name in helper NP app
ok 357 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 358 CFBundleName should be a string in helper NP app
ok 359 CFBundleDisplayName should be a string in helper NP app
ok 360 CFBundleExecutable should be a string in helper NP app
ok 361 CFBundleIdentifier should be a string in helper NP app
ok 362 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app helpers bundle helper-bundle-id fallback to app-bundle-id test
ok 363 The expected Info.plist file should exist in helper app
ok 364 CFBundleName should reflect opts.name in helper app
ok 365 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 366 CFBundleName should be a string in helper app
ok 367 CFBundleIdentifier should be a string in helper app
ok 368 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 369 The expected Info.plist file should exist in helper EH app
ok 370 CFBundleName should reflect opts.name in helper EH app
ok 371 CFBundleDisplayName should reflect opts.name in helper EH app
ok 372 CFBundleExecutable should reflect opts.name in helper EH app
ok 373 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 374 CFBundleName should be a string in helper EH app
ok 375 CFBundleDisplayName should be a string in helper EH app
ok 376 CFBundleExecutable should be a string in helper EH app
ok 377 CFBundleIdentifier should be a string in helper EH app
ok 378 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 379 The expected Info.plist file should exist in helper NP app
ok 380 CFBundleName should reflect opts.name in helper NP app
ok 381 CFBundleDisplayName should reflect opts.name in helper NP app
ok 382 CFBundleExecutable should reflect opts.name in helper NP app
ok 383 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 384 CFBundleName should be a string in helper NP app
ok 385 CFBundleDisplayName should be a string in helper NP app
ok 386 CFBundleExecutable should be a string in helper NP app
ok 387 CFBundleIdentifier should be a string in helper NP app
ok 388 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app helpers bundle helper-bundle-id fallback to app-bundle-id (w/ special characters) test
ok 389 The expected Info.plist file should exist in helper app
ok 390 CFBundleName should reflect opts.name in helper app
ok 391 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 392 CFBundleName should be a string in helper app
ok 393 CFBundleIdentifier should be a string in helper app
ok 394 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 395 The expected Info.plist file should exist in helper EH app
ok 396 CFBundleName should reflect opts.name in helper EH app
ok 397 CFBundleDisplayName should reflect opts.name in helper EH app
ok 398 CFBundleExecutable should reflect opts.name in helper EH app
ok 399 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 400 CFBundleName should be a string in helper EH app
ok 401 CFBundleDisplayName should be a string in helper EH app
ok 402 CFBundleExecutable should be a string in helper EH app
ok 403 CFBundleIdentifier should be a string in helper EH app
ok 404 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 405 The expected Info.plist file should exist in helper NP app
ok 406 CFBundleName should reflect opts.name in helper NP app
ok 407 CFBundleDisplayName should reflect opts.name in helper NP app
ok 408 CFBundleExecutable should reflect opts.name in helper NP app
ok 409 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 410 CFBundleName should be a string in helper NP app
ok 411 CFBundleDisplayName should be a string in helper NP app
ok 412 CFBundleExecutable should be a string in helper NP app
ok 413 CFBundleIdentifier should be a string in helper NP app
ok 414 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app helpers bundle helper-bundle-id & app-bundle-id fallback test
ok 415 The expected Info.plist file should exist in helper app
ok 416 CFBundleName should reflect opts.name in helper app
ok 417 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper app
ok 418 CFBundleName should be a string in helper app
ok 419 CFBundleIdentifier should be a string in helper app
ok 420 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 421 The expected Info.plist file should exist in helper EH app
ok 422 CFBundleName should reflect opts.name in helper EH app
ok 423 CFBundleDisplayName should reflect opts.name in helper EH app
ok 424 CFBundleExecutable should reflect opts.name in helper EH app
ok 425 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper EH app
ok 426 CFBundleName should be a string in helper EH app
ok 427 CFBundleDisplayName should be a string in helper EH app
ok 428 CFBundleExecutable should be a string in helper EH app
ok 429 CFBundleIdentifier should be a string in helper EH app
ok 430 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
ok 431 The expected Info.plist file should exist in helper NP app
ok 432 CFBundleName should reflect opts.name in helper NP app
ok 433 CFBundleDisplayName should reflect opts.name in helper NP app
ok 434 CFBundleExecutable should reflect opts.name in helper NP app
ok 435 CFBundleName should reflect opts["helper-bundle-id"], opts["app-bundle-id"] or fallback to default in helper NP app
ok 436 CFBundleName should be a string in helper NP app
ok 437 CFBundleDisplayName should be a string in helper NP app
ok 438 CFBundleExecutable should be a string in helper NP app
ok 439 CFBundleIdentifier should be a string in helper NP app
ok 440 CFBundleIdentifier should allow only alphanumeric (A-Z,a-z,0-9), hyphen (-), and period (.)
# teardown
# setup
# app humanReadableCopyright test
ok 441 The expected Info.plist file should exist
ok 442 NSHumanReadableCopyright should reflect opts["app-copyright"]
# teardown

1..442
# tests 442
# pass  435
# fail  7

--------------------|----------|----------|----------|----------|----------------|
File                |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |
--------------------|----------|----------|----------|----------|----------------|
 electron-packager/ |    78.87 |    62.05 |       86 |     81.9 |                |
  common.js         |    63.73 |    43.86 |    76.47 |    65.66 |... 203,205,227 |
  index.js          |    76.87 |    60.29 |       92 |    83.05 |... 175,193,194 |
  linux.js          |      100 |      100 |      100 |      100 |                |
  mac.js            |    96.81 |    90.24 |    85.71 |    96.74 |     39,117,118 |
--------------------|----------|----------|----------|----------|----------------|
All files           |    78.87 |    62.05 |       86 |     81.9 |                |
--------------------|----------|----------|----------|----------|----------------|

