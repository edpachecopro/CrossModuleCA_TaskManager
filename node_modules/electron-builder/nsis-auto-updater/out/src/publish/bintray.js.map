{"version":3,"file":"bintray.js","sourceRoot":"","sources":["../../../../src/publish/bintray.ts"],"names":[],"mappings":";AAAA,iCAA+B,kBAG/B,CAAC,CAHgD;AAQjD;IAIE,YAAoB,IAAY,EAAU,WAAmB,EAAU,IAAI,GAAW,SAAS,EAAE,MAAsB;QAAnG,SAAI,GAAJ,IAAI,CAAQ;QAAU,gBAAW,GAAX,WAAW,CAAQ;QAAU,SAAI,GAAJ,IAAI,CAAoB;QAC7F,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI,IAAI,GAAG,IAAI,GAAG,SAAS,IAAI,MAAM,CAAC,GAAG,IAAI,IAAI,MAAM,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAA;QACjG,IAAI,CAAC,QAAQ,GAAG,aAAa,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE,CAAA;IAC3E,CAAC;IAED,UAAU,CAAC,OAAe;QACxB,MAAM,CAAC,+BAAc,CAAU,GAAG,IAAI,CAAC,QAAQ,aAAa,OAAO,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;IACnF,CAAC;IAED,aAAa,CAAC,OAAe;QAC3B,MAAM,CAAC,+BAAc,CAAU,GAAG,IAAI,CAAC,QAAQ,WAAW,EAAE,IAAI,CAAC,IAAI,EAAE;YACrE,IAAI,EAAE,OAAO;SACd,CAAC,CAAA;IACJ,CAAC;IAED,aAAa,CAAC,OAAe;QAC3B,MAAM,CAAC,+BAAc,CAAC,aAAa,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,aAAa,OAAO,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAA;IACjI,CAAC;AACH,CAAC;AAtBY,qBAAa,gBAsBzB,CAAA","sourcesContent":["import { bintrayRequest } from \"./restApiRequest\"\n\n//noinspection ReservedWordAsName\nexport interface Version {\n  readonly name: string\n  readonly package: string\n}\n\nexport class BintrayClient {\n  private readonly basePath: string\n  readonly auth: string | null\n\n  constructor(private user: string, private packageName: string, private repo: string = \"generic\", apiKey?: string | null) {\n    this.auth = apiKey == null ? null : `Basic ${new Buffer(`${user}:${apiKey}`).toString(\"base64\")}`\n    this.basePath = `/packages/${this.user}/${this.repo}/${this.packageName}`\n  }\n\n  getVersion(version: string): Promise<Version> {\n    return bintrayRequest<Version>(`${this.basePath}/versions/${version}`, this.auth)\n  }\n\n  createVersion(version: string): Promise<any> {\n    return bintrayRequest<Version>(`${this.basePath}/versions`, this.auth, {\n      name: version,\n    })\n  }\n\n  deleteVersion(version: string): Promise<any> {\n    return bintrayRequest(`/packages/${this.user}/${this.repo}/${this.packageName}/versions/${version}`, this.auth, null, \"DELETE\")\n  }\n}"]}